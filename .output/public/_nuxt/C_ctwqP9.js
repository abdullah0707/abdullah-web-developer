import{p as w,z as I,c as V,o as g,k,l as c,a as o,a4 as M,I as m,m as i,L as P,J as N,M as U,N as $,j as t,Q as d,V as l,t as h,n as J,x as D,e as E}from"#entry";import{m as L}from"./DIM_ClvK.js";const s=P(d.ui.strategy,d.ui.meter,L),Q=I({components:{UIcon:N},inheritAttrs:!1,props:{value:{type:Number,default:0},min:{type:Number,default:0},max:{type:Number,default:100},indicator:{type:Boolean,default:!1},label:{type:String,default:null},size:{type:String,default:()=>s.default.size,validator(e){return Object.keys(s.meter.size).includes(e)}},color:{type:String,default:()=>s.default.color,validator(e){return[...d.ui.colors,...Object.keys(s.color)].includes(e)}},icon:{type:String,default:null},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})}},slots:Object,setup(e){const{ui:a,attrs:v}=U("meter",$(e,"ui"),s,$(e,"class"));function f(C,r,n){if(r==n)return C<r?0:100;r>n&&(n=[r,r=n][0]);const O=(C-r)/(n-r)*100;return Math.max(0,Math.min(100,O))}const b=t(()=>l(a.value.indicator.container)),p=t(()=>l(a.value.indicator.text,a.value.indicator.size[e.size])),u=t(()=>l(a.value.meter.base,a.value.meter.background,a.value.meter.ring,a.value.meter.rounded,a.value.meter.shadow,a.value.color[e.color]??a.value.meter.color.replaceAll("{color}",e.color),a.value.meter.size[e.size])),S=t(()=>l(a.value.meter.appearance.inner,a.value.meter.appearance.meter,a.value.meter.appearance.bar,a.value.meter.appearance.value)),B=t(()=>l(a.value.meter.bar.transition,a.value.meter.bar.ring,a.value.meter.bar.rounded,a.value.meter.bar.size[e.size])),j=t(()=>l(a.value.label.base,a.value.label.text,a.value.color[e.color]??a.value.label.color.replaceAll("{color}",e.color),a.value.label.size[e.size])),y=t(()=>e.min>e.max?e.max:e.min),z=t(()=>e.max<e.min?e.min:e.max),A=t(()=>f(Number(e.value),y.value,z.value));return{ui:a,attrs:v,indicatorContainerClass:b,indicatorClass:p,meterClass:u,meterAppearanceClass:S,meterBarClass:B,labelClass:j,normalizedMin:y,normalizedMax:z,percent:A}}}),R=["value","min","max"];function T(e,a,v,f,b,p){const u=N;return g(),V("div",m({class:e.ui.wrapper},e.attrs),[e.indicator||e.$slots.indicator?k(e.$slots,"indicator",M(m({key:0},{percent:e.percent,value:e.value})),()=>[o("div",{class:i(e.indicatorContainerClass),style:J({width:`${e.percent}%`})},[o("div",{class:i(e.indicatorClass)},h(Math.round(e.percent))+"% ",3)],6)]):c("",!0),o("meter",{value:e.value,min:e.normalizedMin,max:e.normalizedMax,class:i([e.meterClass,e.meterAppearanceClass,e.meterBarClass])},null,10,R),e.label||e.$slots.label?k(e.$slots,"label",M(m({key:1},{percent:e.percent,value:e.value})),()=>[o("div",{class:i(e.labelClass)},[e.icon?(g(),D(u,{key:0,name:e.icon},null,8,["name"])):c("",!0),E(" "+h(e.label),1)],2)]):c("",!0)],16)}const G=w(Q,[["render",T]]);export{G as default};
