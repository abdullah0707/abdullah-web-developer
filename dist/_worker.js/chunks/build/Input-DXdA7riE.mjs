import{a as e,v as a,m as l,e as n,f as i,p as t,t as o,i as u,g as r,q as d,r as s}from"./server.mjs";import{x as c}from"../_/nitro.mjs";import{u as p}from"./useFormGroup-C1Kwcc-G.mjs";import{q as g,k as v,t as m,j as f}from"../routes/renderer.mjs";import"../_/shared.esm-bundler.mjs";import"../_/index2.mjs";const y=l(r.ui.strategy,r.ui.input,d),I=a.defineComponent({components:{UIcon:n},inheritAttrs:!1,props:{modelValue:{type:[String,Number],default:""},type:{type:String,default:"text"},id:{type:String,default:null},name:{type:String,default:null},placeholder:{type:String,default:null},required:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},autofocus:{type:Boolean,default:!1},autofocusDelay:{type:Number,default:100},icon:{type:String,default:null},loadingIcon:{type:String,default:()=>y.default.loadingIcon},leadingIcon:{type:String,default:null},trailingIcon:{type:String,default:null},trailing:{type:Boolean,default:!1},leading:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},padded:{type:Boolean,default:!0},size:{type:String,default:null,validator:e=>Object.keys(y.size).includes(e)},color:{type:String,default:()=>y.default.color,validator:e=>[...r.ui.colors,...Object.keys(y.color)].includes(e)},variant:{type:String,default:()=>y.default.variant,validator:e=>[...Object.keys(y.variant),...Object.values(y.color).flatMap(e=>Object.keys(e))].includes(e)},inputClass:{type:String,default:null},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})},modelModifiers:{type:Object,default:()=>({})}},emits:["update:modelValue","blur","change"],setup(e,{emit:l,slots:n}){const{ui:d,attrs:g}=i("input",a.toRef(e,"ui"),y,a.toRef(e,"class")),{size:v,rounded:m}=t({ui:d,props:e}),{emitFormBlur:f,emitFormInput:I,size:b,color:S,inputId:C,name:j}=p(e,y),h=a.computed(()=>{var e;return null!=(e=v.value)?e:b.value}),x=a.ref(c({},e.modelModifiers,{trim:!1,lazy:!1,number:!1,nullify:!1})),z=a.ref(null),updateInput=a=>{x.value.trim&&(a=a.trim()),(x.value.number||"number"===e.type)&&(a=s(a)),x.value.nullify&&(a||(a=null)),l("update:modelValue",a),I()},B=a.computed(()=>{var a,l;const i=(null==(l=null==(a=d.value.color)?void 0:a[S.value])?void 0:l[e.variant])||d.value.variant[e.variant];return o(u(d.value.base,d.value.form,m.value,d.value.placeholder,"file"===e.type&&d.value.file.base,d.value.size[h.value],e.padded?d.value.padding[h.value]:"p-0",null==i?void 0:i.replaceAll("{color}",S.value),($.value||n.leading)&&d.value.leading.padding[h.value],(N.value||n.trailing)&&d.value.trailing.padding[h.value]),e.inputClass)}),$=a.computed(()=>e.icon&&e.leading||e.icon&&!e.trailing||e.loading&&!e.trailing||e.leadingIcon),N=a.computed(()=>e.icon&&e.trailing||e.loading&&e.trailing||e.trailingIcon),O=a.computed(()=>e.loading?e.loadingIcon:e.leadingIcon||e.icon),k=a.computed(()=>e.loading&&!$.value?e.loadingIcon:e.trailingIcon||e.icon),q=a.computed(()=>u(d.value.icon.leading.wrapper,d.value.icon.leading.pointer,d.value.icon.leading.padding[h.value])),w=a.computed(()=>u(d.value.icon.base,S.value&&r.ui.colors.includes(S.value)&&d.value.icon.color.replaceAll("{color}",S.value),d.value.icon.size[h.value],e.loading&&d.value.icon.loading)),A=a.computed(()=>u(d.value.icon.trailing.wrapper,d.value.icon.trailing.pointer,d.value.icon.trailing.padding[h.value])),R=a.computed(()=>u(d.value.icon.base,S.value&&r.ui.colors.includes(S.value)&&d.value.icon.color.replaceAll("{color}",S.value),d.value.icon.size[h.value],e.loading&&!$.value&&d.value.icon.loading));return{ui:d,attrs:g,name:j,inputId:C,input:z,isLeading:$,isTrailing:N,inputClass:B,leadingIconName:O,leadingIconClass:w,leadingWrapperIconClass:q,trailingIconName:k,trailingIconClass:R,trailingWrapperIconClass:A,onInput:e=>{x.value.lazy||updateInput(e.target.value)},onChange:a=>{if("file"===e.type){const e=a.target.files;l("change",e)}else{const e=a.target.value;l("change",e),x.value.lazy&&updateInput(e),x.value.trim&&(a.target.value=e.trim())}},onBlur:e=>{f(),l("blur",e)}}}});const b=I.setup;I.setup=(e,l)=>{const n=a.useSSRContext();return(n.modules||(n.modules=new Set)).add("node_modules/@nuxt/ui/dist/runtime/components/forms/Input.vue"),b?b(e,l):void 0};const S=e(I,[["ssrRender",function(e,l,i,t,o,u,r,d){const s=n;l(`<div${g(a.mergeProps({class:"hidden"===e.type?"hidden":e.ui.wrapper},t))}><input${g(a.mergeProps({id:e.inputId,ref:"input",name:e.name,type:e.type,required:e.required,placeholder:e.placeholder,disabled:e.disabled,class:e.inputClass},"file"===e.type?e.attrs:{...e.attrs,value:e.modelValue}))}>`),v(e.$slots,"default",{},null,l,i),e.isLeading&&e.leadingIconName||e.$slots.leading?(l(`<span class="${m(e.leadingWrapperIconClass)}">`),v(e.$slots,"leading",{disabled:e.disabled,loading:e.loading},()=>{l(f(s,{name:e.leadingIconName,class:e.leadingIconClass},null,i))},l,i),l("</span>")):l("\x3c!----\x3e"),e.isTrailing&&e.trailingIconName||e.$slots.trailing?(l(`<span class="${m(e.trailingWrapperIconClass)}">`),v(e.$slots,"trailing",{disabled:e.disabled,loading:e.loading},()=>{l(f(s,{name:e.trailingIconName,class:e.trailingIconClass},null,i))},l,i),l("</span>")):l("\x3c!----\x3e"),l("</div>")}]]);export{S as default};
//# sourceMappingURL=Input-DXdA7riE.mjs.map
