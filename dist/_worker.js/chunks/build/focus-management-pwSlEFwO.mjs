import{u as e,o as r}from"./keyboard-CAJ_aYVR.mjs";import{v as t}from"./server.mjs";var o=Object.defineProperty,n=(e,r,t)=>(((e,r,t)=>{r in e?o(e,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[r]=t})(e,"symbol"!=typeof r?r+"":r,t),t);let u=new class{constructor(){n(this,"current",this.detect()),n(this,"currentId",0)}set(e){this.current!==e&&(this.currentId=0,this.current=e)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return"server"===this.current}get isClient(){return"client"===this.current}detect(){return"server"}};function i(e){if(u.isServer)return null;if(e instanceof Node)return e.ownerDocument;if(null!=e&&e.hasOwnProperty("value")){let t=r(e);if(t)return t.ownerDocument}}let l=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(e=>`${e}:not([tabindex='-1'])`).join(",");var s,c,a,d=((a=d||{})[a.First=1]="First",a[a.Previous=2]="Previous",a[a.Next=4]="Next",a[a.Last=8]="Last",a[a.WrapAround=16]="WrapAround",a[a.NoScroll=32]="NoScroll",a),f=((c=f||{})[c.Error=0]="Error",c[c.Overflow=1]="Overflow",c[c.Success=2]="Success",c[c.Underflow=3]="Underflow",c),m=((s=m||{})[s.Previous=-1]="Previous",s[s.Next=1]="Next",s);function E(e=(void 0).body){return null==e?[]:Array.from(e.querySelectorAll(l)).sort((e,r)=>Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(r.tabIndex||Number.MAX_SAFE_INTEGER)))}var h=(e=>(e[e.Strict=0]="Strict",e[e.Loose=1]="Loose",e))(h||{});function w(r,t=0){var o;return r!==(null==(o=i(r))?void 0:o.body)&&e(t,{0:()=>r.matches(l),1(){let e=r;for(;null!==e;){if(e.matches(l))return!0;e=e.parentElement}return!1}})}function _(e){let r=i(e);t.nextTick(()=>{r&&!w(r.activeElement,0)&&S(e)})}var b=(e=>(e[e.Keyboard=0]="Keyboard",e[e.Mouse=1]="Mouse",e))(b||{});function S(e){null==e||e.focus({preventScroll:!0})}let N=["textarea","input"].join(",");function O(e,r=e=>e){return e.slice().sort((e,t)=>{let o=r(e),u=r(t);if(null===o||null===u)return 0;let l=o.compareDocumentPosition(u);return l&Node.DOCUMENT_POSITION_FOLLOWING?-1:l&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function v(e,r){return P(E(),r,{relativeTo:e})}function P(e,r,{sorted:t=!0,relativeTo:o=null,skipElements:u=[]}={}){var l;let s=null!=(l=Array.isArray(e)?e.length>0?e[0].ownerDocument:void 0:null==e?void 0:e.ownerDocument)?l:void 0,c=Array.isArray(e)?t?O(e):e:E(e);u.length>0&&c.length>1&&(c=c.filter(e=>!u.includes(e))),o=null!=o?o:s.activeElement;let a,d=(()=>{if(5&r)return 1;if(10&r)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),f=(()=>{if(1&r)return 0;if(2&r)return Math.max(0,c.indexOf(o))-1;if(4&r)return Math.max(0,c.indexOf(o))+1;if(8&r)return c.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),m=32&r?{preventScroll:!0}:{},h=0,b=c.length;do{if(h>=b||h+b<=0)return 0;let e=f+h;if(16&r)e=(e+b)%b;else{if(e<0)return 3;if(e>=b)return 1}a=c[e],null==a||a.focus(m),h+=d}while(a!==s.activeElement);return 6&r&&function(e){var r,t;return null!=(t=null==(r=null==e?void 0:e.matches)?void 0:r.call(e,N))&&t}(a)&&a.select(),2}export{E,d as N,O,P,S,f as T,_,u as c,h,i,v,w};
//# sourceMappingURL=focus-management-pwSlEFwO.mjs.map
