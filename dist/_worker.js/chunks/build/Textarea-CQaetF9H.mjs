import{a as e,v as a,m as t,f as l,t as r,i as u,g as o,z as s,r as n}from"./server.mjs";import{x as i}from"../_/nitro.mjs";import{u as d}from"./useFormGroup-C1Kwcc-G.mjs";import{q as m,v as p,k as v}from"../routes/renderer.mjs";import"../_/shared.esm-bundler.mjs";import"../_/index2.mjs";const c=t(o.ui.strategy,o.ui.textarea,s),f=a.defineComponent({inheritAttrs:!1,props:{modelValue:{type:[String,Number],default:""},id:{type:String,default:null},name:{type:String,default:null},placeholder:{type:String,default:null},required:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},rows:{type:Number,default:3},maxrows:{type:Number,default:0},autoresize:{type:Boolean,default:!1},autofocus:{type:Boolean,default:!1},autofocusDelay:{type:Number,default:100},resize:{type:Boolean,default:!1},padded:{type:Boolean,default:!0},size:{type:String,default:null,validator:e=>Object.keys(c.size).includes(e)},color:{type:String,default:()=>c.default.color,validator:e=>[...o.ui.colors,...Object.keys(c.color)].includes(e)},variant:{type:String,default:()=>c.default.variant,validator:e=>[...Object.keys(c.variant),...Object.values(c.color).flatMap(e=>Object.keys(e))].includes(e)},textareaClass:{type:String,default:null},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})},modelModifiers:{type:Object,default:()=>({})}},emits:["update:modelValue","blur","change"],setup(e,{emit:t}){const{ui:o,attrs:s}=l("textarea",a.toRef(e,"ui"),c,a.toRef(e,"class")),{emitFormBlur:m,emitFormInput:p,inputId:v,color:f,size:y,name:g}=d(e,c),b=a.ref(i({},e.modelModifiers,{trim:!1,lazy:!1,number:!1,nullify:!1})),x=a.ref(null),autoResize=()=>{if(e.autoresize){if(!x.value)return;x.value.rows=e.rows;const a=x.value.style.overflow;x.value.style.overflow="hidden";const t=(void 0).getComputedStyle(x.value),l=Number.parseInt(t.paddingTop)+Number.parseInt(t.paddingBottom),r=Number.parseInt(t.lineHeight),{scrollHeight:u}=x.value,o=(u-l)/r;o>e.rows&&(x.value.rows=e.maxrows?Math.min(o,e.maxrows):o),x.value.style.overflow=a}},updateInput=e=>{b.value.trim&&(e=e.trim()),b.value.number&&(e=n(e)),b.value.nullify&&(e||(e=null)),t("update:modelValue",e),p()};a.watch(()=>e.modelValue,()=>{a.nextTick(autoResize)});const w=a.computed(()=>{var a,t;const l=(null==(t=null==(a=o.value.color)?void 0:a[f.value])?void 0:t[e.variant])||o.value.variant[e.variant];return r(u(o.value.base,o.value.form,o.value.rounded,o.value.placeholder,o.value.size[y.value],e.padded?o.value.padding[y.value]:"p-0",null==l?void 0:l.replaceAll("{color}",f.value),!e.resize&&"resize-none"),e.textareaClass)});return{ui:o,attrs:s,name:g,inputId:v,textarea:x,textareaClass:w,onInput:e=>{autoResize(),b.value.lazy||updateInput(e.target.value)},onChange:e=>{const a=e.target.value;t("change",a),b.value.lazy&&updateInput(a),b.value.trim&&(e.target.value=a.trim())},onBlur:e=>{t("blur",e),m()}}}});const y=f.setup;f.setup=(e,t)=>{const l=a.useSSRContext();return(l.modules||(l.modules=new Set)).add("node_modules/@nuxt/ui/dist/runtime/components/forms/Textarea.vue"),y?y(e,t):void 0};const g=e(f,[["ssrRender",function(e,t,l,r,u,o,s,n){let i;t(`<div${m(a.mergeProps({class:e.ui.wrapper},r))}><textarea${m(i=a.mergeProps({id:e.inputId,ref:"textarea",value:e.modelValue,name:e.name,rows:e.rows,required:e.required,disabled:e.disabled,placeholder:e.placeholder,class:e.textareaClass},e.attrs),"textarea")}>${p("value"in i?i.value:"")}</textarea>`),v(e.$slots,"default",{},null,t,l),t("</div>")}]]);export{g as default};
//# sourceMappingURL=Textarea-CQaetF9H.mjs.map
