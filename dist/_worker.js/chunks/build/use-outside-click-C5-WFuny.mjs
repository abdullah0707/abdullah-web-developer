import{o as e}from"./keyboard-CAJ_aYVR.mjs";import{c as o,w as r,h as i}from"./focus-management-pwSlEFwO.mjs";import{v as l}from"./server.mjs";function t(){return/iPhone/gi.test((void 0).navigator.platform)||/Mac/gi.test((void 0).navigator.platform)&&(void 0).navigator.maxTouchPoints>0}function n(){return t()||/Android/gi.test((void 0).navigator.userAgent)}function u(e,r,i){o.isServer||l.watchEffect(o=>{(void 0).addEventListener(e,r,i),o(()=>(void 0).removeEventListener(e,r,i))})}function w$1(e,r,i){o.isServer||l.watchEffect(o=>{(void 0).addEventListener(e,r,i),o(()=>(void 0).removeEventListener(e,r,i))})}function w(o,v,c=l.computed(()=>!0)){function a(l,d){if(!c.value||l.defaultPrevented)return;let s=d(l);if(null===s||!s.getRootNode().contains(s))return;let f=function o2(e){return"function"==typeof e?o2(e()):Array.isArray(e)||e instanceof Set?e:[e]}(o);for(let o of f){if(null===o)continue;let r=o instanceof HTMLElement?o:e(o);if(null!=r&&r.contains(s)||l.composed&&l.composedPath().includes(r))return}return!r(s,i.Loose)&&-1!==s.tabIndex&&l.preventDefault(),v(l,s)}let d=l.ref(null);u("pointerdown",e=>{var o,r;c.value&&(d.value=(null==(r=null==(o=e.composedPath)?void 0:o.call(e))?void 0:r[0])||e.target)},!0),u("mousedown",e=>{var o,r;c.value&&(d.value=(null==(r=null==(o=e.composedPath)?void 0:o.call(e))?void 0:r[0])||e.target)},!0),u("click",e=>{n()||d.value&&(a(e,()=>d.value),d.value=null)},!0),u("touchend",e=>a(e,()=>e.target instanceof HTMLElement?e.target:null),!0),w$1("blur",e=>a(e,()=>(void 0).document.activeElement instanceof HTMLIFrameElement?(void 0).document.activeElement:null),!0)}export{w$1 as a,n,t,w};
//# sourceMappingURL=use-outside-click-C5-WFuny.mjs.map
