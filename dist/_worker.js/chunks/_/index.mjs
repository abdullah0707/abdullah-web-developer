import{N as e}from"./nitro.mjs";import{n as t,t as n,a as r,b as o,w as s,c as i,i as a,d as l,e as u,f as c,g as m,u as f}from"./index2.mjs";import{s as d,c as v,D as h,e as p,w as g,E as b,a as y,F as E,G as T,n as _,H as w,o as P,u as S,I as M}from"../routes/renderer.mjs";const O=globalThis.performance?.timeOrigin??Date.now(),k=globalThis.performance?.now?globalThis.performance.now.bind(globalThis.performance):()=>Date.now()-O,L=["event","mark","measure","resource"];class _PerformanceEntry{__unenv__=!0;detail;entryType="event";name;startTime;constructor(e,t){this.name=e,this.startTime=t?.startTime||k(),this.detail=t?.detail}get duration(){return k()-this.startTime}toJSON(){return{name:this.name,entryType:this.entryType,startTime:this.startTime,duration:this.duration,detail:this.detail}}}class _PerformanceMark extends _PerformanceEntry{entryType="mark"}class _PerformanceMeasure extends _PerformanceEntry{entryType="measure"}class _Performance{__unenv__=!0;timeOrigin=O;eventCounts=new Map;_entries=[];_resourceTimingBufferSize=0;navigation=void 0;timing=void 0;onresourcetimingbufferfull=null;now(){return this.timeOrigin===O?k():Date.now()-this.timeOrigin}clearMarks(e){this._entries=e?this._entries.filter(t=>t.name!==e):this._entries.filter(e=>"mark"!==e.entryType)}clearMeasures(e){this._entries=e?this._entries.filter(t=>t.name!==e):this._entries.filter(e=>"measure"!==e.entryType)}clearResourceTimings(){this._entries=this._entries.filter(e=>"resource"!==e.entryType||"navigation"!==e.entryType)}getEntries(){return this._entries}getEntriesByName(e,t){return this._entries.filter(n=>n.name===e&&(!t||n.entryType===t))}getEntriesByType(e){return this._entries.filter(t=>t.entryType===e)}mark(e,t){const n=new _PerformanceMark(e,t);return this._entries.push(n),n}measure(e,t,n){let r,o;"string"==typeof t?(r=this.getEntriesByName(t,"mark")[0]?.startTime,o=this.getEntriesByName(n,"mark")[0]?.startTime):(r=Number.parseFloat(t?.start)||this.now(),o=Number.parseFloat(t?.end)||this.now());const s=new _PerformanceMeasure(e,{startTime:r,detail:{start:r,end:o}});return this._entries.push(s),s}setResourceTimingBufferSize(e){this._resourceTimingBufferSize=e}toJSON(){return this}addEventListener(t,n,r){throw e("Performance.addEventListener")}removeEventListener(t,n,r){throw e("Performance.removeEventListener")}dispatchEvent(t){throw e("Performance.dispatchEvent")}}const z=globalThis.PerformanceEntry||_PerformanceEntry,x=globalThis.PerformanceMark||_PerformanceMark,B=globalThis.PerformanceMeasure||_PerformanceMeasure,A=globalThis.PerformanceResourceTiming||class extends _PerformanceEntry{entryType="resource";serverTiming=[];connectEnd=0;connectStart=0;decodedBodySize=0;domainLookupEnd=0;domainLookupStart=0;encodedBodySize=0;fetchStart=0;initiatorType="";name="";nextHopProtocol="";redirectEnd=0;redirectStart=0;requestStart=0;responseEnd=0;responseStart=0;secureConnectionStart=0;startTime=0;transferSize=0;workerStart=0;responseStatus=0},R=globalThis.PerformanceObserver||class{__unenv__=!0;static supportedEntryTypes=L;_callback=null;constructor(e){this._callback=e}takeRecords(){return[]}disconnect(){throw e("PerformanceObserver.disconnect")}observe(t){throw e("PerformanceObserver.observe")}},N=globalThis.Performance||_Performance,F=globalThis.PerformanceObserverEntryList||class{__unenv__=!0;getEntries(){return[]}getEntriesByName(e,t){return[]}getEntriesByType(e){return[]}},q=globalThis.performance&&"addEventListener"in globalThis.performance?globalThis.performance:new _Performance;function computedAsync(e,n,r){var o;let s;s=b(r)?{evaluating:r}:r||{};const{lazy:i=!1,flush:a="pre",evaluating:l,shallow:u=!0,onError:c=(null!=(o=globalThis.reportError)?o:t)}=s,m=d(!i),f=u?d(n):y(n);let h=0;return E(async t=>{if(!m.value)return;h++;const n=h;let r=!1;l&&Promise.resolve().then(()=>{l.value=!0});try{const o=await e(e=>{t(()=>{l&&(l.value=!1),r||e()})});n===h&&(f.value=o)}catch(e){c(e)}finally{l&&n===h&&(l.value=!1),r=!0}},{flush:a}),i?v(()=>(m.value=!0,f.value)):f}globalThis.performance||=q,globalThis.Performance||=N,globalThis.PerformanceEntry||=z,globalThis.PerformanceMark||=x,globalThis.PerformanceMeasure||=B,globalThis.PerformanceObserver||=R,globalThis.PerformanceObserverEntryList||=F,globalThis.PerformanceResourceTiming||=A;const C=void 0;function unrefElement(e){var t;const n=h(e);return null!=(t=null==n?void 0:n.$el)?t:n}function useEventListener(...e){const t=[],cleanup=()=>{t.forEach(e=>e()),t.length=0},n=v(()=>{const t=o(h(e[0])).filter(e=>null!=e);return t.every(e=>"string"!=typeof e)?t:void 0}),i=s(()=>{var t,r;return[null!=(r=null==(t=n.value)?void 0:t.map(e=>unrefElement(e)))?r:[C].filter(e=>null!=e),o(h(n.value?e[1]:e[0])),o(S(n.value?e[2]:e[1])),h(n.value?e[3]:e[2])]},([e,n,r,o])=>{if(cleanup(),!(null==e?void 0:e.length)||!(null==n?void 0:n.length)||!(null==r?void 0:r.length))return;const s=c(o)?{...o}:o;t.push(...e.flatMap(e=>n.flatMap(t=>r.map(n=>((e,t,n,r)=>(e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)))(e,t,n,s)))))},{flush:"post"});return r(cleanup),()=>{i(),cleanup()}}function onClickOutside(e,n,r={}){const{window:o=C,ignore:s=[],capture:i=!0,detectIframe:a=!1,controls:l=!1}=r;if(!o)return l?{stop:t,cancel:t,trigger:t}:t;let u=!0;const shouldIgnore=e=>h(s).some(t=>{if("string"==typeof t)return Array.from(o.document.querySelectorAll(t)).some(t=>t===e.target||e.composedPath().includes(t));{const n=unrefElement(t);return n&&(e.target===n||e.composedPath().includes(n))}});const listener=t=>{const r=unrefElement(e);null!=t.target&&(r instanceof Element||!function(e){const t=h(e);return t&&16===t.$.subTree.shapeFlag}(e)||!function(e,t){const n=h(e),r=n.$.subTree&&n.$.subTree.children;return!(null==r||!Array.isArray(r))&&r.some(e=>e.el===t.target||t.composedPath().includes(e.el))}(e,t))&&r&&r!==t.target&&!t.composedPath().includes(r)&&("detail"in t&&0===t.detail&&(u=!shouldIgnore(t)),u?n(t):u=!0)};let c=!1;const m=[useEventListener(o,"click",e=>{c||(c=!0,setTimeout(()=>{c=!1},0),listener(e))},{passive:!0,capture:i}),useEventListener(o,"pointerdown",t=>{const n=unrefElement(e);u=!shouldIgnore(t)&&!(!n||t.composedPath().includes(n))},{passive:!0}),a&&useEventListener(o,"blur",t=>{setTimeout(()=>{var r;const s=unrefElement(e);"IFRAME"!==(null==(r=o.document.activeElement)?void 0:r.tagName)||(null==s?void 0:s.contains(o.document.activeElement))||n(t)},0)},{passive:!0})].filter(Boolean),stop=()=>m.forEach(e=>e());return l?{stop:stop,cancel:()=>{u=!1},trigger:e=>{u=!0,listener(e),u=!1}}:stop}function useSupported(e){const t=function(){const e=d(!1),t=T();return t&&P(()=>{e.value=!0},t),e}();return v(()=>(t.value,Boolean(e())))}function useResizeObserver(e,t,n={}){const{window:o=C,...s}=n;let i;const a=useSupported(()=>o&&"ResizeObserver"in o),cleanup=()=>{i&&(i.disconnect(),i=void 0)},l=v(()=>{const t=h(e);return Array.isArray(t)?t.map(e=>unrefElement(e)):[unrefElement(t)]}),u=g(l,e=>{if(cleanup(),a.value&&o){i=new ResizeObserver(t);for(const t of e)t&&i.observe(t,s)}},{immediate:!0,flush:"post"}),stop=()=>{cleanup(),u()};return r(stop),{isSupported:a,stop:stop}}function useElementSize(e,t={width:0,height:0},r={}){const{window:s=C,box:i="content-box"}=r,a=v(()=>{var t,n;return null==(n=null==(t=unrefElement(e))?void 0:t.namespaceURI)?void 0:n.includes("svg")}),l=d(t.width),u=d(t.height),{stop:c}=useResizeObserver(e,([t])=>{const n="border-box"===i?t.borderBoxSize:"content-box"===i?t.contentBoxSize:t.devicePixelContentBoxSize;if(s&&a.value){const t=unrefElement(e);if(t){const e=t.getBoundingClientRect();l.value=e.width,u.value=e.height}}else if(n){const e=o(n);l.value=e.reduce((e,{inlineSize:t})=>e+t,0),u.value=e.reduce((e,{blockSize:t})=>e+t,0)}else l.value=t.contentRect.width,u.value=t.contentRect.height},r);n(()=>{const n=unrefElement(e);n&&(l.value="offsetWidth"in n?n.offsetWidth:t.width,u.value="offsetHeight"in n?n.offsetHeight:t.height)});const m=g(()=>unrefElement(e),e=>{l.value=e?t.width:0,u.value=e?t.height:0});return{width:l,height:u,stop:function(){c(),m()}}}const $=new Map;function useEventBus(e){const t=w();function on(n){var r;const o=$.get(e)||new Set;o.add(n),$.set(e,o);const _off=()=>off(n);return null==(r=null==t?void 0:t.cleanups)||r.push(_off),_off}function off(t){const n=$.get(e);n&&(n.delete(t),n.size||reset())}function reset(){$.delete(e)}return{on:on,once:function(e){return on(function _listener(...t){off(_listener),e(...t)})},off:off,emit:function(t,n){var r;null==(r=$.get(e))||r.forEach(e=>e(t,n))},reset:reset}}function useScroll(e,s={}){const{throttle:a=0,idle:l=200,onStop:u=t,onScroll:c=t,offset:b={left:0,right:0,top:0,bottom:0},observe:y={mutation:!1},eventListenerOptions:E={capture:!1,passive:!0},behavior:T="auto",window:_=C,onError:w=e=>{console.error(e)}}=s,P="boolean"==typeof y?{mutation:y}:y,S=d(0),M=d(0),O=v({get:()=>S.value,set(e){scrollTo(e,void 0)}}),k=v({get:()=>M.value,set(e){scrollTo(void 0,e)}});function scrollTo(t,n){var r,o,s,i;if(!_)return;const a=h(e);if(!a)return;null==(s=a instanceof Document?_.document.body:a)||s.scrollTo({top:null!=(r=h(n))?r:k.value,left:null!=(o=h(t))?o:O.value,behavior:h(T)});const l=(null==(i=null==a?void 0:a.document)?void 0:i.documentElement)||(null==a?void 0:a.documentElement)||a;null!=O&&(S.value=l.scrollLeft),null!=k&&(M.value=l.scrollTop)}const L=d(!1),z=p({left:!0,right:!1,top:!0,bottom:!1}),x=p({left:!1,right:!1,top:!1,bottom:!1}),onScrollEnd=e=>{L.value&&(L.value=!1,x.left=!1,x.right=!1,x.top=!1,x.bottom=!1,u(e))},B=f(onScrollEnd,a+l),setArrivedState=e=>{var t;if(!_)return;const n=(null==(t=null==e?void 0:e.document)?void 0:t.documentElement)||(null==e?void 0:e.documentElement)||unrefElement(e),{display:r,flexDirection:o,direction:s}=getComputedStyle(n),i="rtl"===s?-1:1,a=n.scrollLeft;x.left=a<S.value,x.right=a>S.value;const l=Math.abs(a*i)<=(b.left||0),u=Math.abs(a*i)+n.clientWidth>=n.scrollWidth-(b.right||0)-1;"flex"===r&&"row-reverse"===o?(z.left=u,z.right=l):(z.left=l,z.right=u),S.value=a;let c=n.scrollTop;e!==_.document||c||(c=_.document.body.scrollTop),x.top=c<M.value,x.bottom=c>M.value;const m=Math.abs(c)<=(b.top||0),f=Math.abs(c)+n.clientHeight>=n.scrollHeight-(b.bottom||0)-1;"flex"===r&&"column-reverse"===o?(z.top=f,z.bottom=m):(z.top=m,z.bottom=f),M.value=c},onScrollHandler=e=>{var t;if(!_)return;const n=null!=(t=e.target.documentElement)?t:e.target;setArrivedState(n),L.value=!0,B(e),c(e)};return useEventListener(e,"scroll",a?m(onScrollHandler,a,!0,!1):onScrollHandler,E),n(()=>{try{const t=h(e);if(!t)return;setArrivedState(t)}catch(e){w(e)}}),(null==P?void 0:P.mutation)&&null!=e&&e!==_&&e!==document&&function(e,t,n={}){const{window:s=C,...a}=n;let l;const u=useSupported(()=>s&&"MutationObserver"in s),cleanup=()=>{l&&(l.disconnect(),l=void 0)},c=v(()=>{const t=h(e),n=o(t).map(unrefElement).filter(i);return new Set(n)}),m=g(c,e=>{cleanup(),u.value&&e.size&&(l=new MutationObserver(t),e.forEach(e=>l.observe(e,a)))},{immediate:!0,flush:"post"}),stop=()=>{m(),cleanup()};r(stop)}(e,()=>{const t=h(e);t&&setArrivedState(t)},{attributes:!0,childList:!0,subtree:!0}),useEventListener(e,"scrollend",onScrollEnd,E),{x:O,y:k,isScrolling:L,arrivedState:z,directions:x,measure(){const t=h(e);_&&t&&setArrivedState(t)}}}function useTimestamp(e={}){const{controls:t=!1,offset:n=0,immediate:o=!0,interval:s="requestAnimationFrame",callback:i}=e,a=d(l()+n),update=()=>a.value=l()+n,c=i?()=>{update(),i(a.value)}:update,m="requestAnimationFrame"===s?function(e,t={}){const{immediate:n=!0,fpsLimit:o,window:s=C,once:i=!1}=t,a=d(!1),l=v(()=>o?1e3/h(o):null);let u=0,c=null;function loop(t){if(!a.value||!s)return;u||(u=t);const n=t-u;if(l.value&&n<l.value)c=s.requestAnimationFrame(loop);else{if(u=t,e({delta:n,timestamp:t}),i)return a.value=!1,void(c=null);c=s.requestAnimationFrame(loop)}}function resume(){!a.value&&s&&(a.value=!0,u=0,c=s.requestAnimationFrame(loop))}function pause(){a.value=!1,null!=c&&s&&(s.cancelAnimationFrame(c),c=null)}return n&&resume(),r(pause),{isActive:M(a),pause:pause,resume:resume}}(c,{immediate:o}):u(c,s,{immediate:o});return t?{timestamp:a,...m}:a}function useVModel(e,t,n,r={}){var o,s,i;const{clone:l=!1,passive:u=!1,eventName:c,deep:m=!1,defaultValue:f,shouldEmit:d}=r,h=T(),p=n||(null==h?void 0:h.emit)||(null==(o=null==h?void 0:h.$emit)?void 0:o.bind(h))||(null==(i=null==(s=null==h?void 0:h.proxy)?void 0:s.$emit)?void 0:i.bind(null==h?void 0:h.proxy));let b=c;t||(t="modelValue"),b=b||`update:${t.toString()}`;const cloneFn=e=>{return l?"function"==typeof l?l(e):(t=e,JSON.parse(JSON.stringify(t))):e;var t},getValue=()=>a(e[t])?cloneFn(e[t]):f,triggerEmit=e=>{d?d(e)&&p(b,e):p(b,e)};if(u){const n=getValue(),r=y(n);let o=!1;return g(()=>e[t],e=>{o||(o=!0,r.value=cloneFn(e),_(()=>o=!1))}),g(r,n=>{o||n===e[t]&&!m||triggerEmit(n)},{deep:m}),r}return v({get:()=>getValue(),set(e){triggerEmit(e)}})}export{useElementSize as a,useResizeObserver as b,useEventBus as c,computedAsync as d,useTimestamp as e,useVModel as f,onClickOutside as o,useScroll as u};
//# sourceMappingURL=index.mjs.map
